(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-bindidcard"],{"09a1":function(t,a,i){var e=i("dd8f");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var s=i("4f06").default;s("247331e0",e,!0,{sourceMap:!1,shadowMode:!1})},"3b44":function(t,a,i){"use strict";var e=i("09a1"),s=i.n(e);s.a},"5f6c":function(t,a,i){"use strict";i.r(a);var e=i("b18b"),s=i("df41");for(var n in s)"default"!==n&&function(t){i.d(a,t,(function(){return s[t]}))}(n);i("3b44");var d,c=i("f0c5"),r=Object(c["a"])(s["default"],e["b"],e["c"],!1,null,"2a29d090",null,!1,e["a"],d);a["default"]=r.exports},"61ea":function(t,a,i){"use strict";i("d3b7"),i("25f0"),i("3ca3"),i("ddb0"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=i("79a9"),s=i("99ab"),n={data:function(){return{userId:"",token:"",data:{Idcard:"",UserRName:"",IdcardNegative:"",IdcardPositive:"",IdcardInHand:"",IsAUT:0}}},onLoad:function(){this.data={Idcard:"",UserRName:"",IdcardNegative:"",IdcardPositive:"",IdcardInHand:"",IsAUT:0},this.userId=uni.getStorageSync("userId"),this.token=uni.getStorageSync("token"),this.getData()},onShow:function(){},methods:{getData:function(){var t=this;(0,e.post)("Member/GetUserBindIdCardInfo",{UserId:this.userId,Token:this.token}).then((function(a){var i=a.obj;t.data=i}))},upImg:function(t){var a=this;1!=this.data.IsAUT&&(0,e.getImgPath)(1,["camera"]).then((function(i){1===t?a.data.IdcardPositive=i:2===t?a.data.IdcardNegative=i:3===t&&(a.data.IdcardInHand=i)}))},submit:function(){var t=this;if(this.check()){Promise.all([(0,s.pathToBase64)(this.data.IdcardPositive),(0,s.pathToBase64)(this.data.IdcardNegative),(0,s.pathToBase64)(this.data.IdcardInHand)]).then((function(a){(0,e.post)("Member/BindUserIdCard",{UserId:t.userId,Token:t.token,UserRName:t.data.UserRName,Idcard:t.data.Idcard,IdCardImgOne:a[0],IdCardImgTwo:a[1],IdCardImgThree:a[2]}).then((function(t){(0,e.toast)(t.msg,!0),setTimeout((function(){uni.navigateBack()}),1500)}))}))}},check:function(){var t=this.data;return t.UserRName?t.Idcard?t.Idcard.toString().length<18?((0,e.toast)("请输入正确身份证！"),!1):t.IdcardPositive?t.IdcardNegative?!!t.IdcardInHand||((0,e.toast)("请上传自拍照！"),!1):((0,e.toast)("请上传身份证反面！"),!1):((0,e.toast)("请上传身份证正面！"),!1):((0,e.toast)("请输入身份证！"),!1):((0,e.toast)("请输入姓名！"),!1)}}};a.default=n},"99ab":function(t,a,i){"use strict";(function(t){function e(a){return new Promise((function(i,e){if("object"===typeof window&&"document"in window){var s=document.createElement("canvas"),n=s.getContext("2d"),d=new Image;return d.onload=function(){s.width=d.width,s.height=d.height,n.drawImage(d,0,0),t("log",a," at utils/image-tools.js:11");var c=s.toDataURL("image/jpeg",.2),r=c.length,o=parseInt(r-r/8*2),l=(o/1024/1024).toFixed(2);l>1.5&&(uni.showToast({title:"图片过大，请重新上传！",icon:"none"}),e()),i(c)},d.onerror=e,void(d.src=a)}if("object"!==typeof plus)"object"===typeof wx&&wx.canIUse("getFileSystemManager")?wx.getFileSystemManager().readFile({filePath:a,encoding:"base64",success:function(t){i("data:image/png;base64,"+t.data)},fail:function(t){e(t)}}):e(new Error("not support"));else{var c=new plus.nativeObj.Bitmap("bitmap"+Date.now());c.load(a,(function(){try{var t=c.toBase64Data()}catch(a){e(a)}c.clear(),i(t)}),(function(t){c.clear(),e(t)}))}}))}function s(t){return new Promise((function(a,i){if("object"===typeof window&&"document"in window){t=t.split(",");var e=t[0].match(/:(.*?);/)[1],s=atob(t[1]),n=s.length,d=new Uint8Array(n);while(n--)d[n]=s.charCodeAt(n);return a((window.URL||window.webkitURL).createObjectURL(new Blob([d],{type:e})))}var c=t.match(/data\:\S+\/(\S+);/);c?c=c[1]:i(new Error("base64 error"));var r=Date.now()+"."+c;if("object"!==typeof plus)if("object"===typeof wx&&wx.canIUse("getFileSystemManager")){var o=wx.env.USER_DATA_PATH+"/"+r;wx.getFileSystemManager().writeFile({filePath:o,data:t.replace(/^data:\S+\/\S+;base64,/,""),encoding:"base64",success:function(){a(o)},fail:function(t){i(t)}})}else i(new Error("not support"));else{var l=new plus.nativeObj.Bitmap("bitmap"+Date.now());l.loadBase64Data(t,(function(){var t="_doc/uniapp_temp/"+r;l.save(t,{},(function(){l.clear(),a(t)}),(function(t){l.clear(),i(t)}))}),(function(t){l.clear(),i(t)}))}}))}i("ace4"),i("b680"),i("d3b7"),i("e25e"),i("ac1f"),i("3ca3"),i("466d"),i("5319"),i("1276"),i("5cc6"),i("9a8c"),i("a975"),i("735e"),i("c1ac"),i("d139"),i("3a7b"),i("d5d6"),i("82f8"),i("e91f"),i("60bd"),i("5f96"),i("3280"),i("3fcc"),i("ca91"),i("25a1"),i("cd26"),i("3c5d"),i("2954"),i("649e"),i("219c"),i("170b"),i("b39a"),i("72f7"),i("ddb0"),i("2b3d"),Object.defineProperty(a,"__esModule",{value:!0}),a.pathToBase64=e,a.base64ToPath=s}).call(this,i("0de9")["log"])},b18b:function(t,a,i){"use strict";var e,s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"bg_f8f8f8"},[i("headers",[t._v("身份证认证")]),i("div",{staticClass:"main"},[t._m(0),i("div",{staticClass:"bindForm regLogForm onlyIpt__form",staticStyle:{padding:"0 10px 10px"}},[i("v-uni-form",{attrs:{action:""}},[i("div",{staticClass:"weui-cells",staticStyle:{"margin-top":"0"}},[i("div",{staticClass:"weui-cell"},[i("div",{staticClass:"weui-cell__bd"},[i("v-uni-input",{staticClass:"weui-input",attrs:{type:"text",disabled:1===t.data.IsAUT,id:"realName",placeholder:"请输入您的真实姓名"},model:{value:t.data.UserRName,callback:function(a){t.$set(t.data,"UserRName","string"===typeof a?a.trim():a)},expression:"data.UserRName"}})],1)]),i("div",{staticClass:"weui-cell"},[i("div",{staticClass:"weui-cell__bd"},[i("v-uni-input",{staticClass:"weui-input",attrs:{type:"text",disabled:1===t.data.IsAUT,id:"idNum",placeholder:"请输入您的身份证号码"},model:{value:t.data.Idcard,callback:function(a){t.$set(t.data,"Idcard","string"===typeof a?a.trim():a)},expression:"data.Idcard"}})],1)])])])],1),i("div",{staticClass:"bindSection"},[i("div",{staticClass:"dd_uploadItem"},[t._m(1),i("ul",{staticClass:"dd_piclist li25"},[i("li",[i("div",{staticClass:"outside",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.upImg(1)}}},[i("div",{staticClass:"img"},[t.data.IdcardPositive?i("img",{staticClass:"upimg",attrs:{src:t.data.IdcardPositive,alt:""}}):i("img",{staticClass:"upimg",attrs:{src:"/static/image/tx/tx_pic.png",alt:""}})]),i("p",{staticClass:"title"},[t._v("身份证正面照")])])]),t._m(2)]),i("ul",{staticClass:"dd_piclist li25"},[i("li",[i("div",{staticClass:"outside",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.upImg(2)}}},[i("div",{staticClass:"img"},[t.data.IdcardNegative?i("img",{staticClass:"upimg",attrs:{src:t.data.IdcardNegative,alt:""}}):i("img",{staticClass:"upimg",attrs:{src:"/static/image/tx/tx_pic.png",alt:""}})]),i("p",{staticClass:"title"},[t._v("身份证反面照")])])]),t._m(3)]),i("ul",{staticClass:"dd_piclist li25"},[i("li",[i("div",{staticClass:"outside",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.upImg(3)}}},[i("div",{staticClass:"img"},[t.data.IdcardInHand?i("img",{staticClass:"upimg",attrs:{src:t.data.IdcardInHand,alt:""}}):i("img",{staticClass:"upimg",attrs:{src:"/static/image/tx/tx_pic.png",alt:""}})]),i("p",{staticClass:"title"},[t._v("自拍照")])])]),t._m(4)])])]),1!==t.data.IsAUT?i("div",{staticClass:"weui-btn weui-btn-active btn-submit",staticStyle:{margin:"20px 12px 20px"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.submit.apply(void 0,arguments)}}},[t._v("提交")]):t._e()])],1)},n=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"dd__hd weui-cell"},[i("div",{staticClass:"weui-cell__bd"},[i("p",{staticClass:"titleMsg"},[t._v("根据国家网信办新规，平台进行实名安全工作，当您的账户出现风险时，在必要时系统会要求您进行更高级别的认证。"),i("br"),t._v("我们承诺保障您账户的资金安全，且不会泄露您的个人隐私，请您积极配合。")])])])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"dd__hd"},[i("p",{staticClass:"title color_e40000"},[t._v("请根据示例截图上传身份证(照片必需清晰可见)")])])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("li",[i("div",{staticClass:"outside"},[i("div",{staticClass:"img"},[i("div",{staticClass:"upimg"},[i("img",{attrs:{src:"/static/image/examplespic/idcard/pic2.jpg"}})])])])])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("li",[i("div",{staticClass:"outside"},[i("div",{staticClass:"img"},[i("div",{staticClass:"upimg"},[i("img",{attrs:{src:"/static/image/examplespic/idcard/pic0.jpg"}})])])])])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("li",[i("div",{staticClass:"outside"},[i("div",{staticClass:"img"},[i("div",{staticClass:"upimg"},[i("img",{attrs:{src:"/static/image/examplespic/idcard/pic1.jpg"}})])])])])}];i.d(a,"b",(function(){return s})),i.d(a,"c",(function(){return n})),i.d(a,"a",(function(){return e}))},dd8f:function(t,a,i){var e=i("24fb");a=e(!1),a.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.outside[data-v-2a29d090]{width:100px}.main[data-v-2a29d090]{padding:0 10px}.main img[data-v-2a29d090]{border-radius:3px;width:100px;height:100px}.li25 li[data-v-2a29d090]{width:30%}',""]),t.exports=a},df41:function(t,a,i){"use strict";i.r(a);var e=i("61ea"),s=i.n(e);for(var n in e)"default"!==n&&function(t){i.d(a,t,(function(){return e[t]}))}(n);a["default"]=s.a}}]);