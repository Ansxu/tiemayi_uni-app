(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-bindidcard"],{"5df3":function(t,a,i){"use strict";var e=i("02f4")(!0);i("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,a=this._t,i=this._i;return i>=a.length?{value:void 0,done:!0}:(t=e(a,i),this._i+=t.length,{value:t,done:!1})})},"5f6c":function(t,a,i){"use strict";i.r(a);var e=i("d309"),s=i("df41");for(var n in s)"default"!==n&&function(t){i.d(a,t,function(){return s[t]})}(n);i("9733");var d,c=i("f0c5"),r=Object(c["a"])(s["default"],e["b"],e["c"],!1,null,"4b16f79c",null,!1,e["a"],d);a["default"]=r.exports},"61ea":function(t,a,i){"use strict";var e=i("288e");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,i("6b54");var s=e(i("795b"));i("ac6a"),i("5df3");var n=i("79a9"),d=i("99ab"),c={data:function(){return{userId:"",token:"",data:{Idcard:"",UserRName:"",IdcardNegative:"",IdcardPositive:"",IdcardInHand:"",IsAUT:0}}},onLoad:function(){this.data={Idcard:"",UserRName:"",IdcardNegative:"",IdcardPositive:"",IdcardInHand:"",IsAUT:0},this.userId=uni.getStorageSync("userId"),this.token=uni.getStorageSync("token"),this.getData()},onShow:function(){},methods:{getData:function(){var t=this;(0,n.post)("Member/GetUserBindIdCardInfo",{UserId:this.userId,Token:this.token}).then(function(a){var i=a.obj;t.data=i})},upImg:function(t){var a=this;1!=this.data.IsAUT&&(0,n.getImgPath)(1,["album"]).then(function(i){1===t?a.data.IdcardPositive=i:2===t?a.data.IdcardNegative=i:3===t&&(a.data.IdcardInHand=i)})},submit:function(){var t=this;if(this.check()){s.default.all([(0,d.pathToBase64)(this.data.IdcardPositive),(0,d.pathToBase64)(this.data.IdcardNegative),(0,d.pathToBase64)(this.data.IdcardInHand)]).then(function(a){(0,n.post)("Member/BindUserIdCard",{UserId:t.userId,Token:t.token,UserRName:t.data.UserRName,Idcard:t.data.Idcard,IdCardImgOne:a[0],IdCardImgTwo:a[1],IdCardImgThree:a[2]}).then(function(t){(0,n.toast)(t.msg,!0),setTimeout(function(){uni.navigateBack()},1500)})})}},check:function(){var t=this.data;return t.UserRName?t.Idcard?t.Idcard.toString().length<18?((0,n.toast)("请输入正确身份证！"),!1):t.IdcardPositive?t.IdcardNegative?!!t.IdcardInHand||((0,n.toast)("请上传自拍照！"),!1):((0,n.toast)("请上传身份证反面！"),!1):((0,n.toast)("请上传身份证正面！"),!1):((0,n.toast)("请输入身份证！"),!1):((0,n.toast)("请输入姓名！"),!1)}}};a.default=c},"91f8":function(t,a,i){var e=i("97f3");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var s=i("4f06").default;s("02df494a",e,!0,{sourceMap:!1,shadowMode:!1})},9733:function(t,a,i){"use strict";var e=i("91f8"),s=i.n(e);s.a},"97f3":function(t,a,i){a=t.exports=i("2350")(!1),a.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.outside[data-v-4b16f79c]{width:100px}.main[data-v-4b16f79c]{padding:0 10px}.main img[data-v-4b16f79c]{border-radius:3px;width:100px;height:100px}.li25 li[data-v-4b16f79c]{width:30%}',""])},"99ab":function(t,a,i){"use strict";var e=i("288e");Object.defineProperty(a,"__esModule",{value:!0}),a.pathToBase64=c,a.base64ToPath=r,i("a481"),i("34ef"),i("4917"),i("28a5");var s=e(i("0a0d")),n=e(i("e814")),d=e(i("795b"));function c(t){return new d.default(function(a,i){if("object"===typeof window&&"document"in window){var e=document.createElement("canvas"),d=e.getContext("2d"),c=new Image;return c.onload=function(){e.width=c.width,e.height=c.height,d.drawImage(c,0,0),console.log(t);var s=e.toDataURL("image/jpeg",.2),r=s.length,o=(0,n.default)(r-r/8*2),l=(o/1024/1024).toFixed(2);l>1.5&&(uni.showToast({title:"图片过大，请重新上传！",icon:"none"}),i()),a(s)},c.onerror=i,void(c.src=t)}if("object"!==typeof plus)"object"===typeof wx&&wx.canIUse("getFileSystemManager")?wx.getFileSystemManager().readFile({filePath:t,encoding:"base64",success:function(t){a("data:image/png;base64,"+t.data)},fail:function(t){i(t)}}):i(new Error("not support"));else{var r=new plus.nativeObj.Bitmap("bitmap"+(0,s.default)());r.load(t,function(){try{var t=r.toBase64Data()}catch(e){i(e)}r.clear(),a(t)},function(t){r.clear(),i(t)})}})}function r(t){return new d.default(function(a,i){if("object"===typeof window&&"document"in window){t=t.split(",");var e=t[0].match(/:(.*?);/)[1],n=atob(t[1]),d=n.length,c=new Uint8Array(d);while(d--)c[d]=n.charCodeAt(d);return a((window.URL||window.webkitURL).createObjectURL(new Blob([c],{type:e})))}var r=t.match(/data\:\S+\/(\S+);/);r?r=r[1]:i(new Error("base64 error"));var o=(0,s.default)()+"."+r;if("object"!==typeof plus)if("object"===typeof wx&&wx.canIUse("getFileSystemManager")){var l=wx.env.USER_DATA_PATH+"/"+o;wx.getFileSystemManager().writeFile({filePath:l,data:t.replace(/^data:\S+\/\S+;base64,/,""),encoding:"base64",success:function(){a(l)},fail:function(t){i(t)}})}else i(new Error("not support"));else{var u=new plus.nativeObj.Bitmap("bitmap"+(0,s.default)());u.loadBase64Data(t,function(){var t="_doc/uniapp_temp/"+o;u.save(t,{},function(){u.clear(),a(t)},function(t){u.clear(),i(t)})},function(t){u.clear(),i(t)})}})}},d309:function(t,a,i){"use strict";var e,s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"bg_f8f8f8"},[i("headers",[t._v("身份证认证")]),i("div",{staticClass:"main"},[t._m(0),i("div",{staticClass:"bindForm regLogForm onlyIpt__form",staticStyle:{padding:"0 10px 10px"}},[i("v-uni-form",{attrs:{action:""}},[i("div",{staticClass:"weui-cells",staticStyle:{"margin-top":"0"}},[i("div",{staticClass:"weui-cell"},[i("div",{staticClass:"weui-cell__bd"},[i("v-uni-input",{staticClass:"weui-input",attrs:{type:"text",disabled:1===t.data.IsAUT,id:"realName",placeholder:"请输入您的真实姓名"},model:{value:t.data.UserRName,callback:function(a){t.$set(t.data,"UserRName","string"===typeof a?a.trim():a)},expression:"data.UserRName"}})],1)]),i("div",{staticClass:"weui-cell"},[i("div",{staticClass:"weui-cell__bd"},[i("v-uni-input",{staticClass:"weui-input",attrs:{type:"text",disabled:1===t.data.IsAUT,id:"idNum",placeholder:"请输入您的身份证号码"},model:{value:t.data.Idcard,callback:function(a){t.$set(t.data,"Idcard","string"===typeof a?a.trim():a)},expression:"data.Idcard"}})],1)])])])],1),i("div",{staticClass:"bindSection"},[i("div",{staticClass:"dd_uploadItem"},[t._m(1),i("ul",{staticClass:"dd_piclist li25"},[i("li",[i("div",{staticClass:"outside",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.upImg(1)}}},[i("div",{staticClass:"img"},[t.data.IdcardPositive?i("img",{staticClass:"upimg",attrs:{src:t.data.IdcardPositive,alt:""}}):i("img",{staticClass:"upimg",attrs:{src:"/static/image/tx/tx_pic.png",alt:""}})]),i("p",{staticClass:"title"},[t._v("身份证正面照")])])]),t._m(2)]),i("ul",{staticClass:"dd_piclist li25"},[i("li",[i("div",{staticClass:"outside",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.upImg(2)}}},[i("div",{staticClass:"img"},[t.data.IdcardNegative?i("img",{staticClass:"upimg",attrs:{src:t.data.IdcardNegative,alt:""}}):i("img",{staticClass:"upimg",attrs:{src:"/static/image/tx/tx_pic.png",alt:""}})]),i("p",{staticClass:"title"},[t._v("身份证反面照")])])]),t._m(3)]),i("ul",{staticClass:"dd_piclist li25"},[i("li",[i("div",{staticClass:"outside",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.upImg(3)}}},[i("div",{staticClass:"img"},[t.data.IdcardInHand?i("img",{staticClass:"upimg",attrs:{src:t.data.IdcardInHand,alt:""}}):i("img",{staticClass:"upimg",attrs:{src:"/static/image/tx/tx_pic.png",alt:""}})]),i("p",{staticClass:"title"},[t._v("自拍照")])])]),t._m(4)])])]),1!==t.data.IsAUT?i("div",{staticClass:"weui-btn weui-btn-active btn-submit",staticStyle:{margin:"20px 12px 20px"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.submit.apply(void 0,arguments)}}},[t._v("提交")]):t._e()])],1)},n=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"dd__hd weui-cell"},[i("div",{staticClass:"weui-cell__bd"},[i("p",{staticClass:"titleMsg"},[t._v("根据国家网信办新规，平台进行实名安全工作，当您的账户出现风险时，在必要时系统会要求您进行更高级别的认证。"),i("br"),t._v("我们承诺保障您账户的资金安全，且不会泄露您的个人隐私，请您积极配合。")])])])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"dd__hd"},[i("p",{staticClass:"title color_e40000"},[t._v("请根据示例截图上传身份证(照片必需清晰可见)")])])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("li",[i("div",{staticClass:"outside"},[i("div",{staticClass:"img"},[i("div",{staticClass:"upimg"},[i("img",{attrs:{src:"/static/image/examplespic/idcard/pic2.jpg"}})])])])])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("li",[i("div",{staticClass:"outside"},[i("div",{staticClass:"img"},[i("div",{staticClass:"upimg"},[i("img",{attrs:{src:"/static/image/examplespic/idcard/pic0.jpg"}})])])])])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("li",[i("div",{staticClass:"outside"},[i("div",{staticClass:"img"},[i("div",{staticClass:"upimg"},[i("img",{attrs:{src:"/static/image/examplespic/idcard/pic1.jpg"}})])])])])}];i.d(a,"b",function(){return s}),i.d(a,"c",function(){return n}),i.d(a,"a",function(){return e})},df41:function(t,a,i){"use strict";i.r(a);var e=i("61ea"),s=i.n(e);for(var n in e)"default"!==n&&function(t){i.d(a,t,function(){return e[t]})}(n);a["default"]=s.a}}]);